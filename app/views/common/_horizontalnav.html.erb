<nav class="aui-navgroup aui-navgroup-horizontal">
  <div class="aui-navgroup-inner">
    <div class="aui-navgroup-primary">
      <ul class="aui-nav">
        <% tabs.each do |tab| %>
            <li class="<%= (tab[:name] != selected_tab ? nil : 'aui-nav-selected') %>">
              <%= link_to tab[:label], {:tab => tab[:name]},
                          :id => "tab-#{tab[:name]}",
                          :onclick => "showTab('#{tab[:name]}', this.href); this.blur(); return false;)" %>
            </li>
        <% end -%>
      </ul>
      <div class="tabs-buttons" style="display:none;">
        <button class="tab-left" type="button" onclick="moveTabLeft(this);"></button>
        <button class="tab-right" type="button" onclick="moveTabRight(this);"></button>
      </div>
    </div>
  </div>
</nav>

<% tabs.each do |tab| -%>
    <%= content_tag('div', render(:partial => tab[:partial], :locals => {:tab => tab}),
                    :id => "tab-content-#{tab[:name]}",
                    :style => (tab[:name] != selected_tab ? 'display:none' : nil),
                    :class => 'tab-content') %>
<% end -%>